function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 30-Mar-2016 13:57:12.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = Qx36 matrix, input #1
% and returns:
%   y = Qx1 matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [45;0.417399261682671;0.486139860467231;0.537521020179372;6.45676963522982e-05;0.578125;0.03125;-752.097806991619;403.168722553269;0.0318736905027314;0.0318736905027314;0.6940118585213;-2444.47475188228;1714.50332753048;0.40725107464953;0.724241024843473;0.788740440829499;0.799434685784989;0.799434685784989;0.750582309201523;0.371412965362249;0.37605122290187;-532.922585156499;0.544647172241501;-532.922585156499;74.0188099914521;-97.1898693174828;138.505289680457;0.481473411753463;0.567204824571638;0.551931351615043;0.759594628044612;0.670203530738805;0.705778927465846;73.7987804878049;-3.16320082444218];
x1_step1_gain = [0.0300751879699248;0.778220787076975;0.664370667854338;3.48693387920949;39.9342698146695;1.54682779456193;1.96168582375479;0.000647931507456346;8.14974014034457e-05;1.93848221910545;2.41839241473718;0.906039312856117;0.000341892853401949;2.41788515464046e-05;0.683771569047409;1.79002776411718;2.01728062036485;1.95474560499173;1.95474560499173;0.575833454207753;0.675495038988416;0.550769678793099;0.00313502790088638;0.560816844460499;0.00313502790088638;0.000434461944289402;0.011524717972482;0.000286598314802753;0.684996260130215;1.19334814762352;1.18530697684483;1.17394968668493;1.17528406592593;0.808971525645657;0.077877123594944;0.293294381685417];
x1_step1_ymin = -1;

% Layer 1
b1 = [1.4951435240600663423;-1.1184113145646989995;0.7845850243877663388;-0.68811822883773055004;-0.16055663901318389941;0.22086544293031204478;-0.43254928897641814478;0.85957482576144395026;-1.1952734359625027949;1.5771301482253676784];
IW1_1 = [-0.30585584243709412755 -0.15556993859858445073 -0.19954477197057493565 -0.28548130782697828112 0.37555476195814174734 0.36267004809452813019 0.037037965902882739877 0.28436529367777035882 0.13478222496052261192 -0.27748599136220947203 0.24598955368553043765 -0.2186260538002623155 -0.27720508472032723279 0.1434415864712114963 0.24213336197927728954 -0.11307331274975594704 0.0050949057863475845365 0.027503421204500728969 0.28022936631492950665 -0.25414337746737269974 -0.28200388249624952497 0.037372618462879439449 -0.23975723365588325064 0.29214789777911648327 -0.093910167494637569741 -0.26921865010479184566 -0.34234451062629922546 -0.076749808848995598742 0.1227189087969126069 -0.18874249903304829434 -0.37809838733849210346 -0.34813342905953831297 -0.40128999729054865009 -0.27421664449108179573 -0.20089915926093707133 -0.2698775599177429263;0.32856517433658760652 -0.33938055404376321622 -0.097656339057398997006 0.35054443119359657288 -0.068104402398511648675 -0.2674771671436586562 -0.12164522862143148374 0.027901658812208487287 0.29006111986289351279 0.050302269169554589268 0.22552907215740403135 0.085889844545296856193 0.004895130397033126135 -0.46123916389395941406 -0.017440336770760390267 0.11143830664361394078 0.40793732826696604832 0.38162839039092266713 -0.40188207313375934326 -0.12146786635058627601 0.15381020187176155933 -0.36932599768402557538 0.017907420914864274897 0.31110825325577784461 0.41519776106581202102 -0.29928960481281891015 -0.15244481874048593228 0.27496050195446330999 -0.11486340896912433651 -0.082190285047006844676 0.17641309519524167593 -0.312730157273340581 -0.13708312360891616866 -0.44331042446003821045 0.30866093332137012339 0.15130145411177634007;-0.14071211379230999516 -0.28431167786521088781 -0.2741022111336734457 0.36189271818468998765 0.23516666609158623502 0.00036700831836229685923 -0.41745680380015426358 -0.07671987426225662654 0.30675306410493113907 -0.14419278096372747933 0.36562098877395421415 -0.21915450378302361867 0.33825519889638100413 -0.27584741231009457518 -0.17706004113815396184 -0.22686185525551644249 0.20071649434069258056 0.10201057729673884689 0.19033946086891320726 0.30313877624635104935 0.018086670820625372347 -0.14735768079235028738 0.33300096681010210586 -0.38201803039440673793 0.13519501171060971378 -0.22482650407692095218 0.10003096457134555419 0.19771366904955367527 -0.12985437781605052576 0.30305205183193023588 -0.18286264004950852913 0.39331708992798508628 -0.33098141361792371429 -0.1911322082566585534 -0.0817313229641423028 -0.29108082499404364096;-0.059691409219369814809 -0.29169380319178944694 0.22633245521310230153 -0.033777692775254566926 0.30494419368528541403 0.26139399039549637838 0.21106165632071988147 0.21974649888806790932 -0.2933261635927213451 -0.29969802298592457257 0.23307940179987285401 0.30071686333158181847 -0.11884174869340828617 -0.060204898199464902675 -0.32708956664514843293 -0.13950512632108730271 -0.056042215655046120903 0.053799818376211117066 0.24318062982758609225 -0.023666124717591916632 -0.1900604766092857667 0.61610234416846942906 0.31766901740709624358 0.17809460175582345065 -0.30917602722690762374 -0.10767973735899030729 0.37281516621732835315 0.48476342000356564821 0.42172694935565130381 0.18137565893498205916 0.12271998734561033462 0.2446945533077749535 -0.18216174429931303314 -0.056230667050655269712 -0.14307909645373156904 0.31538599408135703506;0.11560608339613900886 0.32290775747752081815 -0.28051667907116595302 -0.047284298933993614 -0.026218800247361631617 -0.26875355344664819679 -0.17086475593438332776 -0.047291890448383756829 0.28506014213116376288 -0.13778390354088573821 -0.25140513422352583905 -0.40432462403451369104 0.34527982170188314948 -0.067690095320510901278 0.16286415708944901315 0.29026472469361469519 0.044499992816884270663 -0.34024056230997684613 -0.18680830301855824715 0.37219991378316075181 0.31733746351420394349 0.25359704547311112677 -0.2012246833139282598 0.02559832062796976726 0.31421852836002617249 0.29778647718012785095 0.26449963659250896875 -0.39068471839206037055 -0.26103873308492941963 -0.24284030327493563717 0.097792879627485021499 0.19040969977835475735 0.1602312676144567738 0.35715837895325175388 0.32209822015203648515 -0.18185555059490224328;0.32579787673318333363 -0.085486491128373753856 -0.10756895640588073904 0.0098203891375858165524 -0.034891600735723823923 -0.28159920311267361281 -0.42515573699152475751 -0.33813648530711148954 -0.19383007264581514351 0.25674589057475444287 -0.079758520452085812646 0.48034273877550837106 -0.40861046635642006564 -0.13692931872784253056 -0.2610046571615685651 -0.15039230416966817283 -0.34791077675236198319 -0.16430715510589724571 0.46159844616495027125 -0.37613221395360008081 -0.081058164934960943993 -0.15587737664073686439 -0.25108845556825526435 0.25950026028943667944 0.3326715945466264257 0.12505266954514249189 0.089106459302227547514 -0.33872474610590896926 0.2771609737997184908 0.098969574161748896657 -0.42902289839332385935 -0.1266108279566484085 -0.26032138234974011581 -0.16481045364036847611 -0.20462339855475850103 0.31922582809383426294;0.029145325262690716106 0.41034534986540188717 0.023260513878344199479 -0.57132610426501517775 -0.35368758368390046387 -0.45191636265959322927 0.31559551033497157402 0.11248173653801919747 0.28082891774155627207 0.29294153944729389716 -0.25956919435086855952 -0.118027568476685496 0.21447022425917627864 -0.041015090021907424367 -0.40054567512844668764 -0.23949530178853151163 0.17047944930828495824 0.19337584317869616068 0.25986843726919534037 -0.19385608527942163604 0.28861916549296690038 0.00047224581549203115127 -0.20024452490065805521 -0.099574866550099561113 -0.22471394002718184102 -0.26671383367440698597 0.42331502345406479826 -0.099427601208792237841 0.20441415916239369377 0.16352024120195379764 -0.43603163232131209037 -0.33210209021819947495 0.0065629860219120206288 0.27144675884900471008 -0.14427594510968166919 -0.29128306537847281632;0.3613152721983174942 -0.295590748336625464 0.33156913780354280163 0.3792779911325882547 0.21705022621911904124 0.36305329992711299347 -0.10356255175615224073 -0.26393644309580710505 -0.27786634033031010205 -0.12528344727835999395 -0.30942326370800199431 0.23173637969997515351 -0.28121964168020946451 0.02740287282325865742 -0.29855760950497667316 0.2027311078898431651 0.0088911888365814095714 0.28860091016045064105 0.15646049838211537053 0.16928756568267855354 0.35730638058055552708 -0.069442768835108803493 0.093728707425701135447 -0.41526446727601190601 -0.0051240597323403361957 -0.2030164309821507751 -0.10276214929014958199 -0.23742692631107545354 0.078868648374970012904 0.0091995651117768861837 0.30124234771946367673 0.3744424475949820752 -0.12496202518410051696 -0.32456563245919956007 -0.16580254613736236657 0.15311523800081622282;-0.25721701676541031123 0.41445775706908427605 -0.20043014685600132885 -0.043669308644391807706 -0.15686580112990128333 0.061176649820626156917 -0.36305492935563749013 -0.21554655172079881242 0.16513169272181774105 0.13062648790340494753 -0.1782295807347393235 -0.45750533524771092031 -0.51710292160007442774 0.42765693941003735112 0.33329666553937503659 -0.070308543751019400569 -0.20281182034374292678 -0.12059939217573870107 0.16809247507685776135 -0.27320829072215596645 -0.41238065290824049702 -0.088411802435395675515 -0.10613176457827519505 -0.041917626441311098273 -0.067293987338798252895 -0.35312630443240228262 -0.026206662242554017161 0.082494505198413711766 -0.052389706700152735563 0.41899429731185477976 0.086409501858092194193 -0.30080480035883744305 0.3642222154319529337 -0.1614470054729287285 -0.098554883870486664765 0.19904332543766922736;-0.073572323979502030067 0.36731690155583107682 -0.039955449107368964934 0.05197284937972469071 -0.27467102762054507181 0.13709026628099763023 0.23265691630874138496 0.24136061507962305872 -0.27509488602286802372 0.28249870773826690762 0.074722285579400443689 -0.078199764022900658533 -0.0056363229087258801681 0.12121745252762237965 0.36237189444706191521 0.24976396232011172094 -0.24065284708334550023 -0.35132979200887409776 0.27678374807640460098 -0.33664593509592355414 -0.17453058558137363176 -0.35303237877599819017 -0.25861205992470570614 0.061267545809709285376 0.17449530867584933658 0.10119550921038683589 0.012030378111200936905 -0.2354331273760308374 0.26981927449973547306 -0.16712088505541730643 -0.22665528486248309736 0.034749986672935197218 0.43222867914499357722 -0.4627349491153612826 -0.25143037300739390361 -0.25508686282065906603];

% Layer 2
b2 = -0.069095481560880772642;
LW2_1 = [-0.36348726916800777609 0.49104284687371113627 1.0227657676964811984 1.3676579529952257452 0.12366464297877155509 -0.96948923463341962758 -0.88722308597295329591 -0.14491615942359101221 -1.0593531516953749172 1.2205596643230161025];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,1); % samples

% Input 1
x1 = x1';
xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = logsig_apply(repmat(b2,1,Q) + LW2_1*a1);

% Output 1
y1 = a2;
y1 = y1';
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Positive Transfer Function
function a = logsig_apply(n)
a = 1 ./ (1 + exp(-n));
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end
